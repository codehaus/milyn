<?xml version="1.0"?>
<smooks-resource-list xmlns="http://www.milyn.org/xsd/smooks-1.1.xsd" default-selector-namespace="http://www.milyn.org/xsd/smooks/javabean-1.1.xsd">

    <!--
        Bean Instance Creator Resource...
    -->

    <resource-config selector="bindings">
        <resource>org.milyn.cdr.extension.NewResourceConfig</resource>
        <param name="resource">org.milyn.javabean.BeanInstanceCreator</param>
    </resource-config>

    <resource-config selector="bindings">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">createOnElement</param>
        <param name="mapTo">selector</param>
    </resource-config>

    <resource-config selector="bindings">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">createOnElementNS</param>
        <param name="mapTo">selector-namespace</param>
    </resource-config>

    <resource-config selector="bindings">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">beanId</param>
        <param name="mapTo">beanId</param>
    </resource-config>

    <resource-config selector="bindings">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">class</param>
        <param name="mapTo">beanClass</param>
    </resource-config>

    <!--
        Bean Instance Populator Resource (Value)...
    -->

    <resource-config selector="bindings/value">
        <!-- Clone the BeanInstanceCreator config for the BeanInstancePopulator... -->
        <resource>org.milyn.cdr.extension.CloneResourceConfig</resource>
        <param name="resource">org.milyn.javabean.BeanInstancePopulator</param>
        <param name="unset">beanClass</param>
    </resource-config>

    <resource-config selector="bindings/value">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">data</param>
        <param name="mapTo">selector</param>
    </resource-config>

    <resource-config selector="bindings/value">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">dataNS</param>
        <param name="mapTo">selector-namespace</param>
    </resource-config>

    <resource-config selector="bindings/value">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">property</param>
        <param name="mapTo">property</param>
    </resource-config>

    <resource-config selector="bindings/value">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">type</param>
        <param name="mapTo">type</param>
        <param name="defaultValue">String</param>
    </resource-config>

    <resource-config selector="bindings/value">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">default</param>
        <param name="mapTo">default</param>
    </resource-config>

    <resource-config selector="bindings/value">
        <resource>org.milyn.javabean.ext.SelectorAttributeExtractor</resource>
    </resource-config>

    <resource-config selector="bindings/value">
        <resource>org.milyn.javabean.ext.TypeDecodeParamMapper</resource>
    </resource-config>

    <!--
        Bean Instance Populator Resource (Expression)...
    -->

    <resource-config selector="bindings/expression">
        <!-- Clone the BeanInstanceCreator config for the BeanInstancePopulator... -->
        <resource>org.milyn.cdr.extension.CloneResourceConfig</resource>
        <param name="resource">org.milyn.javabean.BeanInstancePopulator</param>
        <param name="unset">beanClass</param>
    </resource-config>

    <resource-config selector="bindings/expression">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">execOnElement</param>
        <param name="mapTo">selector</param>
    </resource-config>

    <resource-config selector="bindings/expression">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">execOnElementNS</param>
        <param name="mapTo">selector-namespace</param>
    </resource-config>

    <resource-config selector="bindings/expression">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromAttribute</resource>
        <param name="attribute">property</param>
        <param name="mapTo">property</param>
    </resource-config>

    <resource-config selector="bindings/expression">
        <resource>org.milyn.cdr.extension.MapToResourceConfigFromText</resource>
        <param name="mapTo">expression</param>
    </resource-config>

</smooks-resource-list>