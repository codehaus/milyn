<?xml version="1.0" encoding="UTF-8"?>
<project default="deploy" name="Deploy" basedir="./">

    <property file="deploy.properties"/>
    <property name="appname" value="smooks-test" />

    <target name="deploy">
        <available file="${catalina.home}" type="dir" property="server.deploy.available" />
        <antcall target="deploy.to.server"/>
    </target>

    <target name="deploy.to.server" if="server.deploy.available">
        <!-- See deploy.properties -->
        <taskdef name="deploy" classpath="${catalina.home}/server/lib/catalina-ant.jar" classname="org.apache.catalina.ant.DeployTask"/>
        <deploy url="${catalina.deploy.url}" username="${catalina.manager.uname}" password="${catalina.manager.password}" war="${basedir}/../war/target/milyn-smooks-example-servlet-1.0.war" path="/${appname}" update="true" />
    </target>

</project>

